<?xml version="1.0" encoding="utf-8"?>
<Window x:Class="VPM.Windows.PerformanceWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Performance Monitor" 
        Width="1000" 
        Height="600"
        WindowStartupLocation="CenterScreen"
        Background="#1E1E1E"
        Foreground="#E0E0E0">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Toolbar -->
        <Border Grid.Row="0" Background="#2D2D2D" BorderBrush="#3F3F3F" BorderThickness="0,0,0,1" Padding="10">
            <StackPanel Orientation="Horizontal">
                <Button Name="RefreshButton" Content="Refresh" Padding="10,5" Margin="5" Click="RefreshButton_Click" Background="#0E639C" Foreground="White"/>
                <Button Name="ClearButton" Content="Clear Metrics" Padding="10,5" Margin="5" Click="ClearButton_Click" Background="#C5222B" Foreground="White"/>
                <Button Name="ExportButton" Content="Export Report" Padding="10,5" Margin="5" Click="ExportButton_Click" Background="#107C10" Foreground="White"/>
                <TextBlock VerticalAlignment="Center" Margin="20,0,0,0" Text="Last Updated: " Foreground="#A0A0A0"/>
                <TextBlock Name="LastUpdatedText" VerticalAlignment="Center" Text="Never" Foreground="#E0E0E0"/>
            </StackPanel>
        </Border>

        <!-- Main Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="400"/>
            </Grid.ColumnDefinitions>

            <!-- Summary Report -->
            <TextBox Grid.Column="0" 
                     Name="SummaryTextBox" 
                     IsReadOnly="True" 
                     TextWrapping="Wrap" 
                     VerticalScrollBarVisibility="Auto"
                     HorizontalScrollBarVisibility="Auto"
                     Padding="10"
                     Background="#252526"
                     Foreground="#D4D4D4"
                     FontFamily="Consolas"
                     FontSize="11"/>

            <!-- Splitter -->
            <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Center" Background="#3F3F3F"/>

            <!-- Details Panel -->
            <Border Grid.Column="2" Background="#252526" BorderBrush="#3F3F3F" BorderThickness="1,0,0,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Text="Operation Details" Padding="10" Background="#2D2D2D" Foreground="#E0E0E0" FontWeight="Bold"/>
                    
                    <ListBox Grid.Row="1" 
                             Name="OperationsListBox" 
                             Background="#252526" 
                             Foreground="#D4D4D4"
                             BorderThickness="0"
                             SelectionChanged="OperationsListBox_SelectionChanged">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Border Padding="5">
                                    <StackPanel>
                                        <TextBlock Text="{Binding OperationName}" FontWeight="Bold" Foreground="#4EC9B0"/>
                                        <TextBlock Text="{Binding Summary}" FontSize="10" Foreground="#A0A0A0"/>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </Grid>
            </Border>
        </Grid>

        <!-- Details TextBox (shown below list) -->
        <TextBox Grid.Row="1" 
                 Grid.Column="2"
                 Name="DetailsTextBox" 
                 IsReadOnly="True" 
                 TextWrapping="Wrap" 
                 VerticalScrollBarVisibility="Auto"
                 HorizontalScrollBarVisibility="Auto"
                 Padding="10"
                 Background="#252526"
                 Foreground="#D4D4D4"
                 FontFamily="Consolas"
                 FontSize="10"
                 Visibility="Collapsed"/>

        <!-- Status Bar -->
        <StatusBar Grid.Row="2" Background="#2D2D2D" Foreground="#E0E0E0">
            <StatusBarItem Padding="10,5">
                <TextBlock Name="StatusText" Text="Ready"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
